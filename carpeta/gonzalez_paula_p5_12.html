<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Paula if</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  </head>
  <body>
  <script>
  //definimos variables
  let xS,yS,dS,rS,vS;
  let xL,yL,dL,rL,vL;
  let dia,mes,anio;
  function setup () {
  createCanvas (800,800);
  //ponemos las medidas
  //sol
  dS =0.18*width;
  rS= dS/2;
  yS =0.35*height; 
  xS= -rS;
  vS= width/40; 
  //luna
  dL= dS*0.5;
  rL=dL/2;
  xL=-width-6*rL;
  yL=height/3;
  vL=vS;
  //Suelo (decoración)
  noStroke();
  fill(20, 120, 40);
  rect(0, 0.8*height, width, 0.2*height);
  //calendario
  dia=1;
  mes=1;
  anio=2008;
  //letras
  textSize (20);
  fill (0);
  }
  function draw (){
  if (xS <= width + rS){
    // Día mientras el borde izquierdo del Sol no ha salido por la derecha
    background(135, 206, 235);   // azul
   } 
   else {
    // Noche cuando el Sol ya salió completamente por la derecha
    background(0);// negro
	
   }
  //Suelo (decoración)
  noStroke();
  fill(20, 120, 40);
  rect(0, 0.8*height, width, 0.2*height);
  //Luna 
  noStroke();
  fill(200);
  circle(xL,yL,dL);
  //velocidad
  xL +=vL;
  //Sol (si está fuera, no se verá)
  noStroke();
  fill(255, 210, 0);
  circle(xS, yS, dS);
  //medidas Sol
  xS +=vS;
  // 3.5 Reinicio por posición (noche suficientemente larga)
  if (xS > 2*width + rS) {
   xS = -rS;//reentrar por la izquierda
   xL= -width-6*rL;
   // Incremento la variable día.
   dia = dia + 1; 
  // Reseteo día e incremento mes si me paso de 30 días
  if (dia > 30) { dia = 1; mes = mes + 1;
  }
  // Reseteo mes e incremento año si me paso de 12 meses
  if (mes > 12) { mes = 1; anio = anio + 1; }
  
  }
 
  
  if (xS <= width + rS) {fill(0);}
  else {fill (255);} 
  //calendario
  text("Fecha: (" + dia + ") (" + mes + ") (" + anio + ")", 10, 20); 
  //color independiente de la posición del Sol
  }
    
</script>
</body>
</html>
